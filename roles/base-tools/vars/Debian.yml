---
# Debian/Ubuntu-specific variables for base-tools role

package_manager: apt

# Architecture mapping for binary downloads
architecture_mapping:
  x86_64: amd64
  aarch64: arm64
  armv7l: armhf
  armv6l: armhf

# Mapped architecture for package downloads
package_architecture: "{{ architecture_mapping[ansible_architecture] | default('amd64') }}"

apt_packages:
  - git                     # Version control system
  - python3                 # Python 3 interpreter
  - python3-pip             # Python package installer
  - nmap                    # Network exploration tool
  - openssl                 # SSL/TLS toolkit
  - wget                    # Network downloader
  - curl                    # Transfer data with URLs
  - jq                      # JSON processor
  - htop                    # Interactive process viewer
  - direnv                  # Environment variable manager
  - autojump                # Fast directory navigation
  - ca-certificates         # Common CA certificates
  - ripgrep                 # Fast grep alternative
  - mysql-client            # MySQL client
  - shellcheck              # Shell script static analysis
  - ipcalc                  # IP address calculator
  - zsh                     # Z shell
  - vim                     # Vi IMproved editor
  - build-essential         # Build tools (gcc, make, etc.)
  - software-properties-common  # Manage repositories
  - apt-transport-https     # HTTPS support for apt
  - lsb-release             # LSB version reporting utility
  - unzip                   # ZIP archive extraction utility
  - firefox  # Web browser

# Note: gnupg is not included in apt_packages due to version conflicts in test containers.
# GPG tools are typically pre-installed in Ubuntu base images. If needed, install manually.

# Additional tools installed via binary downloads in install-Debian.yml:
# - dive: Docker image explorer (via GitHub releases)
# - gopass: Password manager with Git integration (via GitHub releases)
# - s5cmd: Fast S3 CLI tool (via GitHub releases, supports amd64 and arm64)
# - yq: YAML processor (via GitHub releases)
# - lsd: Modern ls with colors and icons (via GitHub releases)
# - tldr: Simplified man pages (via pip)
# - thefuck: Corrects previous console commands (via pip)
# - vsh, vkv: HashiCorp Vault tools (via GitHub releases, supports amd64 and arm64)
# - safe: HashiCorp Vault secrets manager CLI (via GitHub releases, amd64 ONLY)
# - pug, tfautomv, tfmv, hcledit: Terraform helper tools (via GitHub releases, supports amd64 and arm64)
#
# Note: mise has its own dedicated role
# Note: when (calendar tool) - not available for Ubuntu, macOS only

# Desktop applications to install (alternatives to snap packages)
# These applications are installed via APT repositories or direct downloads
# instead of snap to allow testing in containers and avoid snap limitations

# Applications that need APT repositories
apt_repositories:
  google_chrome:
    enabled: true
    key_url: "https://dl.google.com/linux/linux_signing_key.pub"
    repo_url: "http://dl.google.com/linux/chrome/deb/ stable main"
    repo_options: "arch=amd64"
    package: "google-chrome-stable"
  spotify:
    enabled: true
    key_url: "https://download.spotify.com/debian/pubkey_C85668DF69375001.gpg"
    repo_url: "http://repository.spotify.com stable non-free"
    repo_options: ""
    package: "spotify-client"

# Applications via direct .deb downloads
# Note: Slack version is fetched dynamically during installation
deb_applications:
  slack:
    enabled: true
    # URL pattern - version will be dynamically inserted during installation
    url_pattern: "https://downloads.slack-edge.com/desktop-releases/linux/x64/{version}/slack-desktop-{version}-amd64.deb"
    version_url: "https://slack.com/downloads/linux"
    package_name: "slack-desktop"

# Applications via binary/tarball downloads
binary_applications:
  postman:
    enabled: true
    url: "https://dl.pstmn.io/download/latest/linux64"
    install_dir: "/opt/postman"
    binary_name: "postman"


# Legacy snap packages (kept for reference, now installed via methods above)
# snap_packages:
#   - name: google-chrome
#   - name: firefox
#   - name: slack
#   - name: spotify
#   - name: postman
